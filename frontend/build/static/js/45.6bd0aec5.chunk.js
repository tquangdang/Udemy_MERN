"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[45],{99:(e,a,t)=>{t.r(a),t.d(a,{default:()=>m});var s=t(791),r=t(880),i=t(810),l=t(999),n=t(434),d=t(895),o=t(212),p=t(595),u=t(94),c=t(508),v=t(108),x=(t(55),t(184));const m=()=>{const e=(0,s.useContext)(v.V),{isLoading:a,error:t,sendRequest:m,clearError:h}=(0,c.x)(),[g,j]=(0,u.c)({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1),b=(0,r.useHistory)();return(0,x.jsxs)(s.Fragment,{children:[(0,x.jsx)(n.Z,{error:t,onClear:h}),(0,x.jsxs)("form",{className:"place-form",onSubmit:async a=>{a.preventDefault();try{const a=new FormData;a.append("title",g.inputs.title.value),a.append("description",g.inputs.description.value),a.append("address",g.inputs.address.value),a.append("image",g.inputs.image.value),await m("http://localhost:5000/api/places","POST",a,{Authorization:"Bearer "+e.token}),b.push("/")}catch(t){}},children:[a&&(0,x.jsx)(d.Z,{asOverlay:!0}),(0,x.jsx)(i.Z,{id:"title",element:"input",type:"text",label:"Title",validators:[(0,p.hg)()],errorText:"Please enter a valid title.",onInput:j}),(0,x.jsx)(i.Z,{id:"description",element:"textarea",label:"Description",validators:[(0,p.CP)(5)],errorText:"Please enter a valid description (at least 5 characters).",onInput:j}),(0,x.jsx)(i.Z,{id:"address",element:"input",label:"Address",validators:[(0,p.hg)()],errorText:"Please enter a valid address.",onInput:j}),(0,x.jsx)(o.Z,{id:"image",onInput:j,errorText:"Please provide an image."}),(0,x.jsx)(l.Z,{type:"submit",disabled:!g.isValid,children:"ADD PLACE"})]})]})}},55:()=>{}}]);
//# sourceMappingURL=45.6bd0aec5.chunk.js.map