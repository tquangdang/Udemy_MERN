"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[993],{373:(e,a,s)=>{s.d(a,{Z:()=>n});s(791);var i=s(184);const n=e=>(0,i.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})},191:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var i=s(791),n=s(373),t=s(810),l=s(999),r=s(434),o=s(895),d=s(212),p=s(595),u=s(94),c=s(508),m=s(108),v=s(184);const h=()=>{const e=(0,i.useContext)(m.V),[a,s]=(0,i.useState)(!0),{isLoading:h,error:x,sendRequest:g,clearError:w}=(0,c.x)(),[j,y,I]=(0,u.c)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1);return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(r.Z,{error:x,onClear:w}),(0,v.jsxs)(n.Z,{className:"authentication",children:[h&&(0,v.jsx)(o.Z,{asOverlay:!0}),(0,v.jsx)("h2",{children:"Login Required"}),(0,v.jsx)("hr",{}),(0,v.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),console.log(j.inputs),a)try{const a=await g("http://localhost:5000/api/users/login","POST",JSON.stringify({email:j.inputs.email.value,password:j.inputs.password.value}),{"Content-Type":"application/JSON"});e.login(a.userId,a.token)}catch(i){}else try{const a=new FormData;a.append("email",j.inputs.email.value),a.append("name",j.inputs.name.value),a.append("password",j.inputs.password.value),a.append("image",j.inputs.image.value);const s=await g("http://localhost:5000/api/users/signup","POST",a);e.login(s.userId,s.token)}catch(i){}},children:[!a&&(0,v.jsx)(t.Z,{element:"input",id:"name",type:"text",label:"Your Name",validators:[(0,p.hg)()],errorText:"Please enter a name",onInput:y}),!a&&(0,v.jsx)(d.Z,{center:!0,id:"image",onInput:y,errorText:"Please provide an image."}),(0,v.jsx)(t.Z,{element:"input",id:"email",type:"email",label:"E-Mail",validators:[(0,p.Ox)()],errorText:"Please enter a valid email address.",onInput:y}),(0,v.jsx)(t.Z,{element:"input",id:"password",type:"password",label:"Password",validators:[(0,p.CP)(6)],errorText:"Please enter a valid password, at least 6 characters.",onInput:y}),(0,v.jsx)(l.Z,{type:"submit",disabled:!j.isValid,children:a?"LOGIN":"SIGNUP"})]}),(0,v.jsxs)(l.Z,{inverse:!0,onClick:()=>{a?I({...j.inputs,name:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1):I({...j.inputs,name:void 0,image:void 0},j.inputs.email.isValid&&j.inputs.password.isValid),s((e=>!e))},children:["SWITCH TO ",a?"SIGNUP":"LOGIN"]})]})]})}}}]);
//# sourceMappingURL=993.e87afadd.chunk.js.map