{"ast":null,"code":"import React from\"react\";import{BrowserRouter as Router,Route,Redirect,Switch}from\"react-router-dom/cjs/react-router-dom.min\";import Users from\"./user/pages/Users\";import NewPlace from\"./places/pages/NewPlace\";import UserPlaces from\"./places/pages/UserPlaces\";import MainNavigation from\"./shared/components/Navigation/MainNavigation\";import UpdatePlace from\"./places/pages/UpdatePlace\";import Auth from\"./user/pages/Auth\";import{AuthContext}from\"./shared/context/auth-context\";import{useAuth}from\"./shared/hooks/auth-hook\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const{token,login,logout,userId}=useAuth();let routes;if(token){routes=/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Users,{})}),/*#__PURE__*/_jsx(Route,{path:\"/:userId/places\",exact:true,children:/*#__PURE__*/_jsx(UserPlaces,{})}),/*#__PURE__*/_jsx(Route,{path:\"/places/new\",exact:true,children:/*#__PURE__*/_jsx(NewPlace,{})}),/*#__PURE__*/_jsx(Route,{path:\"/places/:placeId\",children:/*#__PURE__*/_jsx(UpdatePlace,{})}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]});}else{routes=/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Users,{})}),/*#__PURE__*/_jsx(Route,{path:\"/:userId/places\",exact:true,children:/*#__PURE__*/_jsx(UserPlaces,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",children:/*#__PURE__*/_jsx(Auth,{})}),/*#__PURE__*/_jsx(Redirect,{to:\"/auth\"})]});}return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{isLoggedIn:!!token,token:token,userId:userId,login:login,logout:logout},children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(MainNavigation,{}),/*#__PURE__*/_jsx(\"main\",{children:routes})]})});};export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Route","Redirect","Switch","Users","NewPlace","UserPlaces","MainNavigation","UpdatePlace","Auth","AuthContext","useAuth","jsx","_jsx","jsxs","_jsxs","App","token","login","logout","userId","routes","children","path","exact","to","Provider","value","isLoggedIn"],"sources":["C:/Users/quang/Desktop/Udemy_MERN/frontend/src/App.js"],"sourcesContent":["import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from \"react-router-dom/cjs/react-router-dom.min\";\n\nimport Users from \"./user/pages/Users\";\nimport NewPlace from \"./places/pages/NewPlace\";\nimport UserPlaces from \"./places/pages/UserPlaces\";\nimport MainNavigation from \"./shared/components/Navigation/MainNavigation\";\nimport UpdatePlace from \"./places/pages/UpdatePlace\";\nimport Auth from \"./user/pages/Auth\";\nimport { AuthContext } from \"./shared/context/auth-context\";\nimport { useAuth } from \"./shared/hooks/auth-hook\";\n\nconst App = () => {\n  const { token, login, logout, userId } = useAuth();\n\n  let routes;\n\n  if (token) {\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Users />\n        </Route>\n        <Route path=\"/:userId/places\" exact>\n          <UserPlaces />\n        </Route>\n        <Route path=\"/places/new\" exact>\n          <NewPlace />\n        </Route>\n        <Route path=\"/places/:placeId\">\n          <UpdatePlace />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n  } else {\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Users />\n        </Route>\n        <Route path=\"/:userId/places\" exact>\n          <UserPlaces />\n        </Route>\n        <Route path=\"/auth\">\n          <Auth />\n        </Route>\n        <Redirect to=\"/auth\" />\n      </Switch>\n    );\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        isLoggedIn: !!token,\n        token: token,\n        userId: userId,\n        login: login,\n        logout: logout,\n      }}\n    >\n      <Router>\n        <MainNavigation />\n        <main>{routes}</main>\n      </Router>\n    </AuthContext.Provider>\n  );\n};\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OACEC,aAAa,GAAI,CAAAC,MAAM,CACvBC,KAAK,CACLC,QAAQ,CACRC,MAAM,KACD,2CAA2C,CAElD,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,QAAQ,KAAM,yBAAyB,CAC9C,MAAO,CAAAC,UAAU,KAAM,2BAA2B,CAClD,MAAO,CAAAC,cAAc,KAAM,+CAA+C,CAC1E,MAAO,CAAAC,WAAW,KAAM,4BAA4B,CACpD,MAAO,CAAAC,IAAI,KAAM,mBAAmB,CACpC,OAASC,WAAW,KAAQ,+BAA+B,CAC3D,OAASC,OAAO,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAChB,KAAM,CAAEC,KAAK,CAAEC,KAAK,CAAEC,MAAM,CAAEC,MAAO,CAAC,CAAGT,OAAO,CAAC,CAAC,CAElD,GAAI,CAAAU,MAAM,CAEV,GAAIJ,KAAK,CAAE,CACTI,MAAM,cACJN,KAAA,CAACZ,MAAM,EAAAmB,QAAA,eACLT,IAAA,CAACZ,KAAK,EAACsB,IAAI,CAAC,GAAG,CAACC,KAAK,MAAAF,QAAA,cACnBT,IAAA,CAACT,KAAK,GAAE,CAAC,CACJ,CAAC,cACRS,IAAA,CAACZ,KAAK,EAACsB,IAAI,CAAC,iBAAiB,CAACC,KAAK,MAAAF,QAAA,cACjCT,IAAA,CAACP,UAAU,GAAE,CAAC,CACT,CAAC,cACRO,IAAA,CAACZ,KAAK,EAACsB,IAAI,CAAC,aAAa,CAACC,KAAK,MAAAF,QAAA,cAC7BT,IAAA,CAACR,QAAQ,GAAE,CAAC,CACP,CAAC,cACRQ,IAAA,CAACZ,KAAK,EAACsB,IAAI,CAAC,kBAAkB,CAAAD,QAAA,cAC5BT,IAAA,CAACL,WAAW,GAAE,CAAC,CACV,CAAC,cACRK,IAAA,CAACX,QAAQ,EAACuB,EAAE,CAAC,GAAG,CAAE,CAAC,EACb,CACT,CACH,CAAC,IAAM,CACLJ,MAAM,cACJN,KAAA,CAACZ,MAAM,EAAAmB,QAAA,eACLT,IAAA,CAACZ,KAAK,EAACsB,IAAI,CAAC,GAAG,CAACC,KAAK,MAAAF,QAAA,cACnBT,IAAA,CAACT,KAAK,GAAE,CAAC,CACJ,CAAC,cACRS,IAAA,CAACZ,KAAK,EAACsB,IAAI,CAAC,iBAAiB,CAACC,KAAK,MAAAF,QAAA,cACjCT,IAAA,CAACP,UAAU,GAAE,CAAC,CACT,CAAC,cACRO,IAAA,CAACZ,KAAK,EAACsB,IAAI,CAAC,OAAO,CAAAD,QAAA,cACjBT,IAAA,CAACJ,IAAI,GAAE,CAAC,CACH,CAAC,cACRI,IAAA,CAACX,QAAQ,EAACuB,EAAE,CAAC,OAAO,CAAE,CAAC,EACjB,CACT,CACH,CAEA,mBACEZ,IAAA,CAACH,WAAW,CAACgB,QAAQ,EACnBC,KAAK,CAAE,CACLC,UAAU,CAAE,CAAC,CAACX,KAAK,CACnBA,KAAK,CAAEA,KAAK,CACZG,MAAM,CAAEA,MAAM,CACdF,KAAK,CAAEA,KAAK,CACZC,MAAM,CAAEA,MACV,CAAE,CAAAG,QAAA,cAEFP,KAAA,CAACf,MAAM,EAAAsB,QAAA,eACLT,IAAA,CAACN,cAAc,GAAE,CAAC,cAClBM,IAAA,SAAAS,QAAA,CAAOD,MAAM,CAAO,CAAC,EACf,CAAC,CACW,CAAC,CAE3B,CAAC,CAED,cAAe,CAAAL,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}