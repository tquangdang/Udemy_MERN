{"ast":null,"code":"import React,{Suspense}from\"react\";import{BrowserRouter as Router,Route,Redirect,Switch}from\"react-router-dom/cjs/react-router-dom.min\";// import Users from \"./user/pages/Users\";\n// import NewPlace from \"./places/pages/NewPlace\";\n// import UserPlaces from \"./places/pages/UserPlaces\";\nimport MainNavigation from\"./shared/components/Navigation/MainNavigation\";// import UpdatePlace from \"./places/pages/UpdatePlace\";\n// import Auth from \"./user/pages/Auth\";\nimport{AuthContext}from\"./shared/context/auth-context\";import{useAuth}from\"./shared/hooks/auth-hook\";import LoadingSpinner from\"./shared/components/UIElements/LoadingSpinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Users=/*#__PURE__*/React.lazy(()=>import(\"./user/pages/Users\"));const NewPlace=/*#__PURE__*/React.lazy(()=>import(\"./places/pages/NewPlace\"));const UserPlaces=/*#__PURE__*/React.lazy(()=>import(\"./places/pages/UserPlaces\"));const UpdatePlace=/*#__PURE__*/React.lazy(()=>import(\"./places/pages/UpdatePlace\"));const Auth=/*#__PURE__*/React.lazy(()=>import(\"./user/pages/Auth\"));const App=()=>{const{token,login,logout,userId}=useAuth();let routes;if(token){routes=/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Users,{})}),/*#__PURE__*/_jsx(Route,{path:\"/:userId/places\",exact:true,children:/*#__PURE__*/_jsx(UserPlaces,{})}),/*#__PURE__*/_jsx(Route,{path:\"/places/new\",exact:true,children:/*#__PURE__*/_jsx(NewPlace,{})}),/*#__PURE__*/_jsx(Route,{path:\"/places/:placeId\",children:/*#__PURE__*/_jsx(UpdatePlace,{})}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]});}else{routes=/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Users,{})}),/*#__PURE__*/_jsx(Route,{path:\"/:userId/places\",exact:true,children:/*#__PURE__*/_jsx(UserPlaces,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",children:/*#__PURE__*/_jsx(Auth,{})}),/*#__PURE__*/_jsx(Redirect,{to:\"/auth\"})]});}return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{isLoggedIn:!!token,token:token,userId:userId,login:login,logout:logout},children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(MainNavigation,{}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{className:\"center\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})}),children:routes})})]})});};export default App;","map":{"version":3,"names":["React","Suspense","BrowserRouter","Router","Route","Redirect","Switch","MainNavigation","AuthContext","useAuth","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","Users","lazy","NewPlace","UserPlaces","UpdatePlace","Auth","App","token","login","logout","userId","routes","children","path","exact","to","Provider","value","isLoggedIn","fallback","className"],"sources":["C:/Users/quang/Desktop/Udemy_MERN/frontend/src/App.js"],"sourcesContent":["import React, { Suspense } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from \"react-router-dom/cjs/react-router-dom.min\";\n\n// import Users from \"./user/pages/Users\";\n// import NewPlace from \"./places/pages/NewPlace\";\n// import UserPlaces from \"./places/pages/UserPlaces\";\nimport MainNavigation from \"./shared/components/Navigation/MainNavigation\";\n// import UpdatePlace from \"./places/pages/UpdatePlace\";\n// import Auth from \"./user/pages/Auth\";\nimport { AuthContext } from \"./shared/context/auth-context\";\nimport { useAuth } from \"./shared/hooks/auth-hook\";\nimport LoadingSpinner from \"./shared/components/UIElements/LoadingSpinner\";\n\nconst Users = React.lazy(() => import(\"./user/pages/Users\"));\nconst NewPlace = React.lazy(() => import(\"./places/pages/NewPlace\"));\nconst UserPlaces = React.lazy(() => import(\"./places/pages/UserPlaces\"));\nconst UpdatePlace = React.lazy(() => import(\"./places/pages/UpdatePlace\"));\nconst Auth = React.lazy(() => import(\"./user/pages/Auth\"));\n\nconst App = () => {\n  const { token, login, logout, userId } = useAuth();\n\n  let routes;\n\n  if (token) {\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Users />\n        </Route>\n        <Route path=\"/:userId/places\" exact>\n          <UserPlaces />\n        </Route>\n        <Route path=\"/places/new\" exact>\n          <NewPlace />\n        </Route>\n        <Route path=\"/places/:placeId\">\n          <UpdatePlace />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n  } else {\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Users />\n        </Route>\n        <Route path=\"/:userId/places\" exact>\n          <UserPlaces />\n        </Route>\n        <Route path=\"/auth\">\n          <Auth />\n        </Route>\n        <Redirect to=\"/auth\" />\n      </Switch>\n    );\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        isLoggedIn: !!token,\n        token: token,\n        userId: userId,\n        login: login,\n        logout: logout,\n      }}\n    >\n      <Router>\n        <MainNavigation />\n        <main>\n          <Suspense\n            fallback={\n              <div className=\"center\">\n                <LoadingSpinner/>\n              </div>\n            }\n          >\n            {routes}\n          </Suspense>\n        </main>\n      </Router>\n    </AuthContext.Provider>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}